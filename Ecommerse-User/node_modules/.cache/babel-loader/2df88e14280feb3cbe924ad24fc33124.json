{"ast":null,"code":"var _this = this;\n\nimport React, { Fragment, useCallback, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Image from './components/Image';\nimport ZoomImage from './components/ZoomImage';\nimport FullscreenPortal from './components/FullscreenPortal';\n\nvar InnerImageZoom = function InnerImageZoom(_ref) {\n  var _ref$moveType = _ref.moveType,\n      moveType = _ref$moveType === void 0 ? 'pan' : _ref$moveType,\n      _ref$zoomType = _ref.zoomType,\n      zoomType = _ref$zoomType === void 0 ? 'click' : _ref$zoomType,\n      src = _ref.src,\n      sources = _ref.sources,\n      width = _ref.width,\n      height = _ref.height,\n      hasSpacer = _ref.hasSpacer,\n      _ref$imgAttributes = _ref.imgAttributes,\n      imgAttributes = _ref$imgAttributes === void 0 ? {} : _ref$imgAttributes,\n      zoomSrc = _ref.zoomSrc,\n      _ref$zoomScale = _ref.zoomScale,\n      zoomScale = _ref$zoomScale === void 0 ? 1 : _ref$zoomScale,\n      zoomPreload = _ref.zoomPreload,\n      _ref$fadeDuration = _ref.fadeDuration,\n      fadeDuration = _ref$fadeDuration === void 0 ? 150 : _ref$fadeDuration,\n      fullscreenOnMobile = _ref.fullscreenOnMobile,\n      _ref$mobileBreakpoint = _ref.mobileBreakpoint,\n      mobileBreakpoint = _ref$mobileBreakpoint === void 0 ? 640 : _ref$mobileBreakpoint,\n      hideCloseButton = _ref.hideCloseButton,\n      hideHint = _ref.hideHint,\n      className = _ref.className,\n      afterZoomIn = _ref.afterZoomIn,\n      afterZoomOut = _ref.afterZoomOut;\n  var img = useRef(null);\n  var zoomImg = useRef(null);\n  var imgProps = useRef({});\n\n  var _useState = useState(zoomPreload),\n      isActive = _useState[0],\n      setIsActive = _useState[1];\n\n  var _useState2 = useState(false),\n      isTouch = _useState2[0],\n      setIsTouch = _useState2[1];\n\n  var _useState3 = useState(false),\n      isZoomed = _useState3[0],\n      setIsZoomed = _useState3[1];\n\n  var _useState4 = useState(false),\n      isFullscreen = _useState4[0],\n      setIsFullscreen = _useState4[1];\n\n  var _useState5 = useState(false),\n      isDragging = _useState5[0],\n      setIsDragging = _useState5[1];\n\n  var _useState6 = useState(false),\n      isValidDrag = _useState6[0],\n      setIsValidDrag = _useState6[1];\n\n  var _useState7 = useState(false),\n      isFading = _useState7[0],\n      setIsFading = _useState7[1];\n\n  var _useState8 = useState(moveType),\n      currentMoveType = _useState8[0],\n      setCurrentMoveType = _useState8[1];\n\n  var _useState9 = useState(0),\n      left = _useState9[0],\n      setLeft = _useState9[1];\n\n  var _useState10 = useState(0),\n      top = _useState10[0],\n      setTop = _useState10[1];\n\n  var handleMouseEnter = function handleMouseEnter(e) {\n    setIsActive(true);\n    setIsFading(false);\n    zoomType === 'hover' && !isZoomed && handleClick(e);\n  };\n\n  var handleTouchStart = function handleTouchStart() {\n    setIsTouch(true);\n    setIsFullscreen(getFullscreenStatus(fullscreenOnMobile, mobileBreakpoint));\n    setCurrentMoveType('drag');\n  };\n\n  var handleClick = function handleClick(e) {\n    if (isZoomed) {\n      if (isTouch) {\n        hideCloseButton && handleClose(e);\n      } else {\n        !isValidDrag && zoomOut();\n      }\n\n      return;\n    }\n\n    isTouch && setIsActive(true);\n\n    if (zoomImg.current) {\n      handleLoad({\n        target: zoomImg.current\n      });\n      zoomIn(e.pageX, e.pageY);\n    } else {\n      imgProps.current.onLoadCallback = zoomIn.bind(_this, e.pageX, e.pageY);\n    }\n  };\n\n  var handleLoad = function handleLoad(e) {\n    var scaledDimensions = getScaledDimensions(e.target, zoomScale);\n    zoomImg.current = e.target;\n    zoomImg.current.setAttribute('width', scaledDimensions.width);\n    zoomImg.current.setAttribute('height', scaledDimensions.height);\n    imgProps.current.scaledDimensions = scaledDimensions;\n    imgProps.current.bounds = getBounds(img.current, false);\n    imgProps.current.ratios = getRatios(imgProps.current.bounds, scaledDimensions);\n\n    if (imgProps.current.onLoadCallback) {\n      imgProps.current.onLoadCallback();\n      imgProps.current.onLoadCallback = null;\n    }\n  };\n\n  var handleMouseMove = function handleMouseMove(e) {\n    var left = e.pageX - imgProps.current.offsets.x;\n    var top = e.pageY - imgProps.current.offsets.y;\n    left = Math.max(Math.min(left, imgProps.current.bounds.width), 0);\n    top = Math.max(Math.min(top, imgProps.current.bounds.height), 0);\n    setLeft(left * -imgProps.current.ratios.x);\n    setTop(top * -imgProps.current.ratios.y);\n  };\n\n  var handleDragStart = function handleDragStart(e) {\n    var pageX = typeof e.pageX === 'number' ? e.pageX : e.changedTouches[0].pageX;\n    var pageY = typeof e.pageY === 'number' ? e.pageY : e.changedTouches[0].pageY;\n    imgProps.current.offsets = getOffsets(pageX, pageY, zoomImg.current.offsetLeft, zoomImg.current.offsetTop);\n    setIsDragging(true);\n\n    if (!isTouch) {\n      imgProps.current.eventPosition = {\n        x: e.pageX,\n        y: e.pageY\n      };\n    }\n  };\n\n  var handleDragMove = useCallback(function (e) {\n    e.stopPropagation();\n    var pageX = typeof e.pageX === 'number' ? e.pageX : e.changedTouches[0].pageX;\n    var pageY = typeof e.pageY === 'number' ? e.pageY : e.changedTouches[0].pageY;\n    var left = pageX - imgProps.current.offsets.x;\n    var top = pageY - imgProps.current.offsets.y;\n    left = Math.max(Math.min(left, 0), (imgProps.current.scaledDimensions.width - imgProps.current.bounds.width) * -1);\n    top = Math.max(Math.min(top, 0), (imgProps.current.scaledDimensions.height - imgProps.current.bounds.height) * -1);\n    setLeft(left);\n    setTop(top);\n  }, []);\n\n  var handleDragEnd = function handleDragEnd(e) {\n    setIsDragging(false);\n\n    if (!isTouch) {\n      var moveX = Math.abs(e.pageX - imgProps.current.eventPosition.x);\n      var moveY = Math.abs(e.pageY - imgProps.current.eventPosition.y);\n      setIsValidDrag(moveX > 5 || moveY > 5);\n    }\n  };\n\n  var handleMouseLeave = function handleMouseLeave(e) {\n    currentMoveType === 'drag' && isZoomed ? handleDragEnd(e) : handleClose(e);\n  };\n\n  var handleClose = function handleClose(e) {\n    if (!(!isTouch && e.target.classList.contains('iiz__close'))) {\n      if (!isZoomed || isFullscreen || !fadeDuration) {\n        handleFadeOut({}, true);\n      } else {\n        setIsFading(true);\n      }\n    }\n\n    zoomOut();\n  };\n\n  var handleFadeOut = function handleFadeOut(e, noTransition) {\n    if (noTransition || e.propertyName === 'opacity' && img.current.contains(e.target)) {\n      if (zoomPreload && isTouch || !zoomPreload) {\n        zoomImg.current = null;\n        imgProps.current = getDefaults();\n        setIsActive(false);\n      }\n\n      setIsTouch(false);\n      setIsFullscreen(false);\n      setCurrentMoveType(moveType);\n      setIsFading(false);\n    }\n  };\n\n  var initialMove = function initialMove(pageX, pageY) {\n    imgProps.current.offsets = getOffsets(window.pageXOffset, window.pageYOffset, -imgProps.current.bounds.left, -imgProps.current.bounds.top);\n    handleMouseMove({\n      pageX: pageX,\n      pageY: pageY\n    });\n  };\n\n  var initialDrag = function initialDrag(pageX, pageY) {\n    var initialPageX = (pageX - (window.pageXOffset + imgProps.current.bounds.left)) * -imgProps.current.ratios.x;\n    var initialPageY = (pageY - (window.pageYOffset + imgProps.current.bounds.top)) * -imgProps.current.ratios.y;\n    initialPageX = initialPageX + (isFullscreen ? (window.innerWidth - imgProps.current.bounds.width) / 2 : 0);\n    initialPageY = initialPageY + (isFullscreen ? (window.innerHeight - imgProps.current.bounds.height) / 2 : 0);\n    imgProps.current.bounds = getBounds(img.current, isFullscreen);\n    imgProps.current.offsets = getOffsets(0, 0, 0, 0);\n    handleDragMove({\n      changedTouches: [{\n        pageX: initialPageX,\n        pageY: initialPageY\n      }],\n      preventDefault: function preventDefault() {},\n      stopPropagation: function stopPropagation() {}\n    });\n  };\n\n  var zoomIn = function zoomIn(pageX, pageY) {\n    setIsZoomed(true);\n    currentMoveType === 'drag' ? initialDrag(pageX, pageY) : initialMove(pageX, pageY);\n    afterZoomIn && afterZoomIn();\n  };\n\n  var zoomOut = function zoomOut() {\n    setIsZoomed(false);\n    afterZoomOut && afterZoomOut();\n  };\n\n  var getDefaults = function getDefaults() {\n    return {\n      onLoadCallback: null,\n      bounds: {},\n      offsets: {},\n      ratios: {},\n      eventPosition: {},\n      scaledDimensions: {}\n    };\n  };\n\n  var getBounds = function getBounds(img, isFullscreen) {\n    if (isFullscreen) {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        left: 0,\n        top: 0\n      };\n    }\n\n    return img.getBoundingClientRect();\n  };\n\n  var getOffsets = function getOffsets(pageX, pageY, left, top) {\n    return {\n      x: pageX - left,\n      y: pageY - top\n    };\n  };\n\n  var getRatios = function getRatios(bounds, dimensions) {\n    return {\n      x: (dimensions.width - bounds.width) / bounds.width,\n      y: (dimensions.height - bounds.height) / bounds.height\n    };\n  };\n\n  var getFullscreenStatus = function getFullscreenStatus(fullscreenOnMobile, mobileBreakpoint) {\n    return fullscreenOnMobile && window.matchMedia && window.matchMedia(\"(max-width: \" + mobileBreakpoint + \"px)\").matches;\n  };\n\n  var getScaledDimensions = function getScaledDimensions(zoomImg, zoomScale) {\n    return {\n      width: zoomImg.naturalWidth * zoomScale,\n      height: zoomImg.naturalHeight * zoomScale\n    };\n  };\n\n  var zoomImageProps = {\n    src: zoomSrc || src,\n    fadeDuration: isFullscreen ? 0 : fadeDuration,\n    top: top,\n    left: left,\n    isZoomed: isZoomed,\n    onLoad: handleLoad,\n    onDragStart: currentMoveType === 'drag' ? handleDragStart : null,\n    onDragEnd: currentMoveType === 'drag' ? handleDragEnd : null,\n    onClose: !hideCloseButton && currentMoveType === 'drag' ? handleClose : null,\n    onFadeOut: isFading ? handleFadeOut : null\n  };\n  useEffect(function () {\n    imgProps.current = getDefaults();\n  }, []);\n  useEffect(function () {\n    getFullscreenStatus(fullscreenOnMobile, mobileBreakpoint) && setIsActive(false);\n  }, [fullscreenOnMobile, mobileBreakpoint]);\n  useEffect(function () {\n    if (!zoomImg.current) {\n      return;\n    }\n\n    var eventType = isTouch ? 'touchmove' : 'mousemove';\n\n    if (isDragging) {\n      zoomImg.current.addEventListener(eventType, handleDragMove, {\n        passive: true\n      });\n    } else {\n      zoomImg.current.removeEventListener(eventType, handleDragMove);\n    }\n  }, [isDragging, isTouch, handleDragMove]);\n  return /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"iiz \" + (currentMoveType === 'drag' ? 'iiz--drag' : '') + \" \" + (className ? className : ''),\n    style: {\n      width: width\n    },\n    ref: img,\n    onTouchStart: isZoomed ? null : handleTouchStart,\n    onClick: handleClick,\n    onMouseEnter: isTouch ? null : handleMouseEnter,\n    onMouseMove: currentMoveType === 'drag' || !isZoomed ? null : handleMouseMove,\n    onMouseLeave: isTouch ? null : handleMouseLeave\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: src,\n    sources: sources,\n    width: width,\n    height: height,\n    hasSpacer: hasSpacer,\n    imgAttributes: imgAttributes,\n    fadeDuration: fadeDuration,\n    isZoomed: isZoomed\n  }), isActive && /*#__PURE__*/React.createElement(Fragment, null, isFullscreen ? /*#__PURE__*/React.createElement(FullscreenPortal, null, /*#__PURE__*/React.createElement(ZoomImage, zoomImageProps)) : /*#__PURE__*/React.createElement(ZoomImage, zoomImageProps)), !hideHint && !isZoomed && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"iiz__btn iiz__hint\"\n  }));\n};\n\nInnerImageZoom.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  moveType: PropTypes.string,\n  zoomType: PropTypes.string,\n  src: PropTypes.string.isRequired,\n  sources: PropTypes.array,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  hasSpacer: PropTypes.bool,\n  imgAttributes: PropTypes.object,\n  zoomSrc: PropTypes.string,\n  zoomScale: PropTypes.number,\n  zoomPreload: PropTypes.bool,\n  fadeDuration: PropTypes.number,\n  fullscreenOnMobile: PropTypes.bool,\n  mobileBreakpoint: PropTypes.number,\n  hideCloseButton: PropTypes.bool,\n  hideHint: PropTypes.bool,\n  className: PropTypes.string,\n  afterZoomIn: PropTypes.func,\n  afterZoomOut: PropTypes.func\n} : {};\nexport default InnerImageZoom;","map":{"version":3,"names":["_this","React","Fragment","useCallback","useEffect","useRef","useState","PropTypes","Image","ZoomImage","FullscreenPortal","InnerImageZoom","_ref","_ref$moveType","moveType","_ref$zoomType","zoomType","src","sources","width","height","hasSpacer","_ref$imgAttributes","imgAttributes","zoomSrc","_ref$zoomScale","zoomScale","zoomPreload","_ref$fadeDuration","fadeDuration","fullscreenOnMobile","_ref$mobileBreakpoint","mobileBreakpoint","hideCloseButton","hideHint","className","afterZoomIn","afterZoomOut","img","zoomImg","imgProps","_useState","isActive","setIsActive","_useState2","isTouch","setIsTouch","_useState3","isZoomed","setIsZoomed","_useState4","isFullscreen","setIsFullscreen","_useState5","isDragging","setIsDragging","_useState6","isValidDrag","setIsValidDrag","_useState7","isFading","setIsFading","_useState8","currentMoveType","setCurrentMoveType","_useState9","left","setLeft","_useState10","top","setTop","handleMouseEnter","e","handleClick","handleTouchStart","getFullscreenStatus","handleClose","zoomOut","current","handleLoad","target","zoomIn","pageX","pageY","onLoadCallback","bind","scaledDimensions","getScaledDimensions","setAttribute","bounds","getBounds","ratios","getRatios","handleMouseMove","offsets","x","y","Math","max","min","handleDragStart","changedTouches","getOffsets","offsetLeft","offsetTop","eventPosition","handleDragMove","stopPropagation","handleDragEnd","moveX","abs","moveY","handleMouseLeave","classList","contains","handleFadeOut","noTransition","propertyName","getDefaults","initialMove","window","pageXOffset","pageYOffset","initialDrag","initialPageX","initialPageY","innerWidth","innerHeight","preventDefault","getBoundingClientRect","dimensions","matchMedia","matches","naturalWidth","naturalHeight","zoomImageProps","onLoad","onDragStart","onDragEnd","onClose","onFadeOut","eventType","addEventListener","passive","removeEventListener","createElement","style","ref","onTouchStart","onClick","onMouseEnter","onMouseMove","onMouseLeave","propTypes","process","env","NODE_ENV","string","isRequired","array","number","bool","object","func"],"sources":["D:/Rabbil Laravel/ecommerce-sitereactjs/node_modules/react-inner-image-zoom/es/InnerImageZoom/InnerImageZoom.js"],"sourcesContent":["var _this = this;\n\nimport React, { Fragment, useCallback, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Image from './components/Image';\nimport ZoomImage from './components/ZoomImage';\nimport FullscreenPortal from './components/FullscreenPortal';\n\nvar InnerImageZoom = function InnerImageZoom(_ref) {\n  var _ref$moveType = _ref.moveType,\n      moveType = _ref$moveType === void 0 ? 'pan' : _ref$moveType,\n      _ref$zoomType = _ref.zoomType,\n      zoomType = _ref$zoomType === void 0 ? 'click' : _ref$zoomType,\n      src = _ref.src,\n      sources = _ref.sources,\n      width = _ref.width,\n      height = _ref.height,\n      hasSpacer = _ref.hasSpacer,\n      _ref$imgAttributes = _ref.imgAttributes,\n      imgAttributes = _ref$imgAttributes === void 0 ? {} : _ref$imgAttributes,\n      zoomSrc = _ref.zoomSrc,\n      _ref$zoomScale = _ref.zoomScale,\n      zoomScale = _ref$zoomScale === void 0 ? 1 : _ref$zoomScale,\n      zoomPreload = _ref.zoomPreload,\n      _ref$fadeDuration = _ref.fadeDuration,\n      fadeDuration = _ref$fadeDuration === void 0 ? 150 : _ref$fadeDuration,\n      fullscreenOnMobile = _ref.fullscreenOnMobile,\n      _ref$mobileBreakpoint = _ref.mobileBreakpoint,\n      mobileBreakpoint = _ref$mobileBreakpoint === void 0 ? 640 : _ref$mobileBreakpoint,\n      hideCloseButton = _ref.hideCloseButton,\n      hideHint = _ref.hideHint,\n      className = _ref.className,\n      afterZoomIn = _ref.afterZoomIn,\n      afterZoomOut = _ref.afterZoomOut;\n  var img = useRef(null);\n  var zoomImg = useRef(null);\n  var imgProps = useRef({});\n\n  var _useState = useState(zoomPreload),\n      isActive = _useState[0],\n      setIsActive = _useState[1];\n\n  var _useState2 = useState(false),\n      isTouch = _useState2[0],\n      setIsTouch = _useState2[1];\n\n  var _useState3 = useState(false),\n      isZoomed = _useState3[0],\n      setIsZoomed = _useState3[1];\n\n  var _useState4 = useState(false),\n      isFullscreen = _useState4[0],\n      setIsFullscreen = _useState4[1];\n\n  var _useState5 = useState(false),\n      isDragging = _useState5[0],\n      setIsDragging = _useState5[1];\n\n  var _useState6 = useState(false),\n      isValidDrag = _useState6[0],\n      setIsValidDrag = _useState6[1];\n\n  var _useState7 = useState(false),\n      isFading = _useState7[0],\n      setIsFading = _useState7[1];\n\n  var _useState8 = useState(moveType),\n      currentMoveType = _useState8[0],\n      setCurrentMoveType = _useState8[1];\n\n  var _useState9 = useState(0),\n      left = _useState9[0],\n      setLeft = _useState9[1];\n\n  var _useState10 = useState(0),\n      top = _useState10[0],\n      setTop = _useState10[1];\n\n  var handleMouseEnter = function handleMouseEnter(e) {\n    setIsActive(true);\n    setIsFading(false);\n    zoomType === 'hover' && !isZoomed && handleClick(e);\n  };\n\n  var handleTouchStart = function handleTouchStart() {\n    setIsTouch(true);\n    setIsFullscreen(getFullscreenStatus(fullscreenOnMobile, mobileBreakpoint));\n    setCurrentMoveType('drag');\n  };\n\n  var handleClick = function handleClick(e) {\n    if (isZoomed) {\n      if (isTouch) {\n        hideCloseButton && handleClose(e);\n      } else {\n        !isValidDrag && zoomOut();\n      }\n\n      return;\n    }\n\n    isTouch && setIsActive(true);\n\n    if (zoomImg.current) {\n      handleLoad({\n        target: zoomImg.current\n      });\n      zoomIn(e.pageX, e.pageY);\n    } else {\n      imgProps.current.onLoadCallback = zoomIn.bind(_this, e.pageX, e.pageY);\n    }\n  };\n\n  var handleLoad = function handleLoad(e) {\n    var scaledDimensions = getScaledDimensions(e.target, zoomScale);\n    zoomImg.current = e.target;\n    zoomImg.current.setAttribute('width', scaledDimensions.width);\n    zoomImg.current.setAttribute('height', scaledDimensions.height);\n    imgProps.current.scaledDimensions = scaledDimensions;\n    imgProps.current.bounds = getBounds(img.current, false);\n    imgProps.current.ratios = getRatios(imgProps.current.bounds, scaledDimensions);\n\n    if (imgProps.current.onLoadCallback) {\n      imgProps.current.onLoadCallback();\n      imgProps.current.onLoadCallback = null;\n    }\n  };\n\n  var handleMouseMove = function handleMouseMove(e) {\n    var left = e.pageX - imgProps.current.offsets.x;\n    var top = e.pageY - imgProps.current.offsets.y;\n    left = Math.max(Math.min(left, imgProps.current.bounds.width), 0);\n    top = Math.max(Math.min(top, imgProps.current.bounds.height), 0);\n    setLeft(left * -imgProps.current.ratios.x);\n    setTop(top * -imgProps.current.ratios.y);\n  };\n\n  var handleDragStart = function handleDragStart(e) {\n    var pageX = typeof e.pageX === 'number' ? e.pageX : e.changedTouches[0].pageX;\n    var pageY = typeof e.pageY === 'number' ? e.pageY : e.changedTouches[0].pageY;\n    imgProps.current.offsets = getOffsets(pageX, pageY, zoomImg.current.offsetLeft, zoomImg.current.offsetTop);\n    setIsDragging(true);\n\n    if (!isTouch) {\n      imgProps.current.eventPosition = {\n        x: e.pageX,\n        y: e.pageY\n      };\n    }\n  };\n\n  var handleDragMove = useCallback(function (e) {\n    e.stopPropagation();\n    var pageX = typeof e.pageX === 'number' ? e.pageX : e.changedTouches[0].pageX;\n    var pageY = typeof e.pageY === 'number' ? e.pageY : e.changedTouches[0].pageY;\n    var left = pageX - imgProps.current.offsets.x;\n    var top = pageY - imgProps.current.offsets.y;\n    left = Math.max(Math.min(left, 0), (imgProps.current.scaledDimensions.width - imgProps.current.bounds.width) * -1);\n    top = Math.max(Math.min(top, 0), (imgProps.current.scaledDimensions.height - imgProps.current.bounds.height) * -1);\n    setLeft(left);\n    setTop(top);\n  }, []);\n\n  var handleDragEnd = function handleDragEnd(e) {\n    setIsDragging(false);\n\n    if (!isTouch) {\n      var moveX = Math.abs(e.pageX - imgProps.current.eventPosition.x);\n      var moveY = Math.abs(e.pageY - imgProps.current.eventPosition.y);\n      setIsValidDrag(moveX > 5 || moveY > 5);\n    }\n  };\n\n  var handleMouseLeave = function handleMouseLeave(e) {\n    currentMoveType === 'drag' && isZoomed ? handleDragEnd(e) : handleClose(e);\n  };\n\n  var handleClose = function handleClose(e) {\n    if (!(!isTouch && e.target.classList.contains('iiz__close'))) {\n      if (!isZoomed || isFullscreen || !fadeDuration) {\n        handleFadeOut({}, true);\n      } else {\n        setIsFading(true);\n      }\n    }\n\n    zoomOut();\n  };\n\n  var handleFadeOut = function handleFadeOut(e, noTransition) {\n    if (noTransition || e.propertyName === 'opacity' && img.current.contains(e.target)) {\n      if (zoomPreload && isTouch || !zoomPreload) {\n        zoomImg.current = null;\n        imgProps.current = getDefaults();\n        setIsActive(false);\n      }\n\n      setIsTouch(false);\n      setIsFullscreen(false);\n      setCurrentMoveType(moveType);\n      setIsFading(false);\n    }\n  };\n\n  var initialMove = function initialMove(pageX, pageY) {\n    imgProps.current.offsets = getOffsets(window.pageXOffset, window.pageYOffset, -imgProps.current.bounds.left, -imgProps.current.bounds.top);\n    handleMouseMove({\n      pageX: pageX,\n      pageY: pageY\n    });\n  };\n\n  var initialDrag = function initialDrag(pageX, pageY) {\n    var initialPageX = (pageX - (window.pageXOffset + imgProps.current.bounds.left)) * -imgProps.current.ratios.x;\n    var initialPageY = (pageY - (window.pageYOffset + imgProps.current.bounds.top)) * -imgProps.current.ratios.y;\n    initialPageX = initialPageX + (isFullscreen ? (window.innerWidth - imgProps.current.bounds.width) / 2 : 0);\n    initialPageY = initialPageY + (isFullscreen ? (window.innerHeight - imgProps.current.bounds.height) / 2 : 0);\n    imgProps.current.bounds = getBounds(img.current, isFullscreen);\n    imgProps.current.offsets = getOffsets(0, 0, 0, 0);\n    handleDragMove({\n      changedTouches: [{\n        pageX: initialPageX,\n        pageY: initialPageY\n      }],\n      preventDefault: function preventDefault() {},\n      stopPropagation: function stopPropagation() {}\n    });\n  };\n\n  var zoomIn = function zoomIn(pageX, pageY) {\n    setIsZoomed(true);\n    currentMoveType === 'drag' ? initialDrag(pageX, pageY) : initialMove(pageX, pageY);\n    afterZoomIn && afterZoomIn();\n  };\n\n  var zoomOut = function zoomOut() {\n    setIsZoomed(false);\n    afterZoomOut && afterZoomOut();\n  };\n\n  var getDefaults = function getDefaults() {\n    return {\n      onLoadCallback: null,\n      bounds: {},\n      offsets: {},\n      ratios: {},\n      eventPosition: {},\n      scaledDimensions: {}\n    };\n  };\n\n  var getBounds = function getBounds(img, isFullscreen) {\n    if (isFullscreen) {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        left: 0,\n        top: 0\n      };\n    }\n\n    return img.getBoundingClientRect();\n  };\n\n  var getOffsets = function getOffsets(pageX, pageY, left, top) {\n    return {\n      x: pageX - left,\n      y: pageY - top\n    };\n  };\n\n  var getRatios = function getRatios(bounds, dimensions) {\n    return {\n      x: (dimensions.width - bounds.width) / bounds.width,\n      y: (dimensions.height - bounds.height) / bounds.height\n    };\n  };\n\n  var getFullscreenStatus = function getFullscreenStatus(fullscreenOnMobile, mobileBreakpoint) {\n    return fullscreenOnMobile && window.matchMedia && window.matchMedia(\"(max-width: \" + mobileBreakpoint + \"px)\").matches;\n  };\n\n  var getScaledDimensions = function getScaledDimensions(zoomImg, zoomScale) {\n    return {\n      width: zoomImg.naturalWidth * zoomScale,\n      height: zoomImg.naturalHeight * zoomScale\n    };\n  };\n\n  var zoomImageProps = {\n    src: zoomSrc || src,\n    fadeDuration: isFullscreen ? 0 : fadeDuration,\n    top: top,\n    left: left,\n    isZoomed: isZoomed,\n    onLoad: handleLoad,\n    onDragStart: currentMoveType === 'drag' ? handleDragStart : null,\n    onDragEnd: currentMoveType === 'drag' ? handleDragEnd : null,\n    onClose: !hideCloseButton && currentMoveType === 'drag' ? handleClose : null,\n    onFadeOut: isFading ? handleFadeOut : null\n  };\n  useEffect(function () {\n    imgProps.current = getDefaults();\n  }, []);\n  useEffect(function () {\n    getFullscreenStatus(fullscreenOnMobile, mobileBreakpoint) && setIsActive(false);\n  }, [fullscreenOnMobile, mobileBreakpoint]);\n  useEffect(function () {\n    if (!zoomImg.current) {\n      return;\n    }\n\n    var eventType = isTouch ? 'touchmove' : 'mousemove';\n\n    if (isDragging) {\n      zoomImg.current.addEventListener(eventType, handleDragMove, {\n        passive: true\n      });\n    } else {\n      zoomImg.current.removeEventListener(eventType, handleDragMove);\n    }\n  }, [isDragging, isTouch, handleDragMove]);\n  return /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"iiz \" + (currentMoveType === 'drag' ? 'iiz--drag' : '') + \" \" + (className ? className : ''),\n    style: {\n      width: width\n    },\n    ref: img,\n    onTouchStart: isZoomed ? null : handleTouchStart,\n    onClick: handleClick,\n    onMouseEnter: isTouch ? null : handleMouseEnter,\n    onMouseMove: currentMoveType === 'drag' || !isZoomed ? null : handleMouseMove,\n    onMouseLeave: isTouch ? null : handleMouseLeave\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: src,\n    sources: sources,\n    width: width,\n    height: height,\n    hasSpacer: hasSpacer,\n    imgAttributes: imgAttributes,\n    fadeDuration: fadeDuration,\n    isZoomed: isZoomed\n  }), isActive && /*#__PURE__*/React.createElement(Fragment, null, isFullscreen ? /*#__PURE__*/React.createElement(FullscreenPortal, null, /*#__PURE__*/React.createElement(ZoomImage, zoomImageProps)) : /*#__PURE__*/React.createElement(ZoomImage, zoomImageProps)), !hideHint && !isZoomed && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"iiz__btn iiz__hint\"\n  }));\n};\n\nInnerImageZoom.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  moveType: PropTypes.string,\n  zoomType: PropTypes.string,\n  src: PropTypes.string.isRequired,\n  sources: PropTypes.array,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  hasSpacer: PropTypes.bool,\n  imgAttributes: PropTypes.object,\n  zoomSrc: PropTypes.string,\n  zoomScale: PropTypes.number,\n  zoomPreload: PropTypes.bool,\n  fadeDuration: PropTypes.number,\n  fullscreenOnMobile: PropTypes.bool,\n  mobileBreakpoint: PropTypes.number,\n  hideCloseButton: PropTypes.bool,\n  hideHint: PropTypes.bool,\n  className: PropTypes.string,\n  afterZoomIn: PropTypes.func,\n  afterZoomOut: PropTypes.func\n} : {};\nexport default InnerImageZoom;"],"mappings":"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"},"metadata":{},"sourceType":"module"}